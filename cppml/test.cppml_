#include <iostream>
#include <string>

using namespace std;

#include "../ufora/core/cppml/CPPMLTransform.hppml"

@type X = 
	A of int a
-|	B of double b
-|	C of std::string c
with
	std::string z
	;


int main(int argc, char** argv)
	{
	X x1 = X::B(1);
	X x2 = X::A("1",2);
	std::cout << "x1.z(): " << x1.z() << ". \n";
	std::cout << "x2.z(): " << x2.z() << ". \n";

	X x3 = CPPML::replaceCommonData(x1, "haro");
	
	std::cout << "x3.z(): " << x3.z() << " and " << x3.tagName() << " \n";	
	}
	
	
	
