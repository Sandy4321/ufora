{
    "id": "/hadoop",
    "groups": [
        {
            "id": "/hadoop/hdfs",
            "apps": [
                {
                    "id": "/hadoop/hdfs/name-node",
                    "cmd": "./run-hdfs.sh namenode > $HADOOP_NAMENODE_LOG 2>&1",
                    "env": {
                        "JAVA_HOME": "/usr/lib/jvm/java-7-openjdk-amd64",
                        "HADOOP_NAMENODE_DIR": "/volumes/hdfs/data/namenode",
                        "HADOOP_NAMENODE_LOG": "/volumes/mesos/namenode.log",
                        "HADOOP_PREFIX": "hadoop-2.7.1",
                        "HADOOP_CONF_DIR": "etc/hadoop"
                    },
                    "uris": [
                        "file:///volumes/hadoop-2.7.1.tar.gz",
                        "file:///volumes/run-hdfs.sh"
                        ],
                    "cpus": 1.0,
                    "mem": 2000.0,
                    "ports": [8020, 50070, 50470],
                    "instances": 1
                },
                {
                    "id": "/hadoop/hdfs/data-node",
                    "dependencies": ["/hadoop/hdfs/name-node"],
                    "cmd": "./run-hdfs.sh datanode > $HADOOP_DATANODE_LOG 2>&1",
                    "env": {
                        "JAVA_HOME": "/usr/lib/jvm/java-7-openjdk-amd64",
                        "NAME_NODE_MARATHON_URL": "http://10.253.103.2:8080/v2/apps/hadoop/hdfs/name-node",
                        "HADOOP_DATANODE_DIR": "/volumes/hdfs/data/datanode",
                        "HADOOP_DATANODE_LOG": "/volumes/mesos/datanode.log",
                        "HADOOP_PREFIX": "hadoop-2.7.1",
                        "HADOOP_CONF_DIR": "etc/hadoop"
                    },
                    "uris": [
                        "file:///volumes/hadoop-2.7.1.tar.gz",
                        "file:///volumes/run-hdfs.sh"
                        ],
                    "cpus": 1.0,
                    "mem": 1000.0,
                    "ports": [8010, 50010, 50075, 50475],
                    "constraints": [
                        ["hostname", "UNIQUE"]
                        ],
                    "instances": 0
                }
            ]
        }
    ]
}
