{
    "id": "/ufora",
    "groups": [
        {
            "id": "/ufora/hdfs",
            "apps": [
                {
                    "id": "/ufora/hdfs/name-node",
                    "cmd": "./run-hdfs.sh namenode > $HADOOP_NAMENODE_LOG 2>&1",
                    "env": {
                        "JAVA_HOME": "/usr/lib/jvm/java-7-openjdk-amd64",
                        "HADOOP_PREFIX": "hadoop-2.7.1",
                        "HADOOP_CONF_DIR": "etc/hadoop",
                        "HADOOP_NAMENODE_DIR": "/volumes/hdfs/data/namenode",
                        "HADOOP_NAMENODE_LOG": "/volumes/mesos/namenode.log"
                    },
                    "uris": [
                        "file:///volumes/hadoop-2.7.1.tar.gz",
                        "file:///volumes/run-hdfs.sh"
                        ],
                    "cpus": 1.0,
                    "mem": 500.0,
                    "ports": [8020, 50070, 50470],
                    "instances": 1
                },
                {
                    "id": "/ufora/hdfs/data-node",
                    "dependencies": ["/ufora/hdfs/name-node"],
                    "cmd": "./run-hdfs.sh datanode > $HADOOP_DATANODE_LOG 2>&1",
                    "env": {
                        "JAVA_HOME": "/usr/lib/jvm/java-7-openjdk-amd64",
                        "HADOOP_PREFIX": "hadoop-2.7.1",
                        "HADOOP_CONF_DIR": "etc/hadoop",
                        "HADOOP_DATANODE_DIR": "/volumes/hdfs/data/datanode",
                        "NAME_NODE_MARATHON_URL": "http://10.253.21.224:8080/v2/apps/ufora/hdfs/name-node",
                        "HADOOP_DATANODE_LOG": "/volumes/mesos/datanode.log"
                    },
                    "uris": [
                        "file:///volumes/hadoop-2.7.1.tar.gz",
                        "file:///volumes/run-hdfs.sh"
                        ],
                    "cpus": 1.0,
                    "mem": 500.0,
                    "ports": [8010, 50010, 50075, 50475],
                    "constraints": [
                        ["hostname", "UNIQUE"]
                        ],
                    "instances": 2
                }
            ]
        },
        {
            "id": "/ufora/cumulus",
            "apps": [
                {
                    "id": "/ufora/cumulus/worker",
                    "dependencies": ["/ufora/hdfs/data-node"],
                    "cmd": "./install-ufora.sh",
                    "env": {
                        "NAME_NODE_MARATHON_URL": "http://10.253.21.224:8080/v2/apps/ufora/hdfs/name-node"
                    },
                    "uris": [
                        "file:///volumes/ufora-0.8.20.tar.gz",
                        "file:///volumes/install-ufora.sh"

                    ],
                    "cpus": 32.0,
                    "mem": 55000.0,
                    "ports": [30009, 30010],
                    "constraints": [
                        ["hostname", "UNIQUE"]
                        ],
                    "instances": 1
                }
                ]
        }
    ]
}
